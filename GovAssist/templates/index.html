<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard â€“ GovAssist</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='index.css') }}">
</head>
<body>
  <div class="container">
    <div class="header">
      Welcome, {{ username }}! <a href="{{ url_for('logout') }}">Logout</a>
    </div>
    <img src="{{ url_for('static', filename='logo1.png') }}" alt="GovAssist Logo" class="logo">

    <h1>Discover Government Schemes Tailored for You</h1>

    <form method="post">
      <label for="name">Full Name:</label>
      <input type="text" id="name" name="name" required />

      <label for="age">Age:</label>
      <input type="number" id="age" name="age" min="1" max="120" required />

      <label for="gender">Gender:</label>
      <select id="gender" name="gender" required>
        <option value="" disabled selected>Select</option>
        <option value="male">Male</option>
        <option value="female">Female</option>
        <option value="other">Other</option>
      </select>

      <label for="marital_status">Marital Status:</label>
      <select id="marital_status" name="marital_status" required>
        <option value="" disabled selected>Select</option>
        <option value="single">Single</option>
        <option value="married">Married</option>
        <option value="widowed">Widowed</option>
      </select>

      <label for="occupation">Occupation:</label>
      <select id="occupation" name="occupation" required>
        <option value="" disabled selected>Select</option>
        <option value="student">Student</option>
        <option value="farmer">Farmer</option>
        <option value="unemployed">Unemployed</option>
        <option value="worker">Worker</option>
        <option value="self_employed">Self Employed</option>
        <option value="retired">Retired</option>
      </select>

      <label for="income">Annual Income (INR):</label>
      <input type="number" id="income" name="income" min="0" required />

      <label for="education">Education Level:</label>
      <select id="education" name="education" required>
        <option value="" disabled selected>Select</option>
        <option value="none">None</option>
        <option value="school">School</option>
        <option value="undergraduate">Undergraduate</option>
        <option value="postgraduate">Postgraduate</option>
        <option value="phd">PhD</option>
      </select>

      <label for="disability">Do you have a disability?</label>
      <select id="disability" name="disability" required>
        <option value="" disabled selected>Select</option>
        <option value="no">No</option>
        <option value="yes">Yes</option>
      </select>

      <label for="state">State of Residence:</label>
      <input type="text" id="state" name="state" required />

      <label for="rural_urban">Area Type:</label>
      <select id="rural_urban" name="rural_urban" required>
        <option value="" disabled selected>Select</option>
        <option value="urban">Urban</option>
        <option value="rural">Rural</option>
      </select>

      <label for="category">Caste/Category:</label>
      <select id="category" name="category" required>
        <option value="" disabled selected>Select</option>
        <option value="general">General</option>
        <option value="obc">OBC</option>
        <option value="sc">SC</option>
        <option value="st">ST</option>
        <option value="ews">EWS</option>
      </select>

      <label for="language">Preferred Language:</label>
      <select id="language" name="language">
        <option value="english">English</option>
        <option value="hindi">Hindi</option>
        <option value="telugu">Telugu</option>
        <option value="bengali">Bengali</option>
        <option value="tamil">Tamil</option>
      </select>

      <button type="submit">Find Schemes</button>
    </form>

    {% if schemes %}
      <h2>Recommended Schemes for You:</h2>
      <ul>
        {% for scheme in schemes %}
          <li>
            <strong>{{ scheme.name }}</strong><br/>
            {{ scheme.description }}
          </li>
        {% endfor %}
      </ul>
    {% elif schemes is not none %}
      <p>No matching schemes found for your details.</p>
    {% endif %}
<div class="background-slideshow">
  <div class="bg-slide fade" style="background-image: url('{{ url_for('static', filename='bg-1.jpg') }}');"></div>
  <div class="bg-slide fade" style="background-image: url('{{ url_for('static', filename='bg-2.jpg') }}');"></div>
  <div class="bg-slide fade" style="background-image: url('{{ url_for('static', filename='bg-3.jpg') }}');"></div>
</div>

<script>
  let bgIndex = 0;
  rotateBackground();

  function rotateBackground() {
    const slides = document.getElementsByClassName("bg-slide");
    for (let i = 0; i < slides.length; i++) {
      slides[i].style.opacity = 0;
    }
    bgIndex++;
    if (bgIndex > slides.length) { bgIndex = 1; }
    slides[bgIndex - 1].style.opacity = 1;
    setTimeout(rotateBackground, 4000); // Change every 4 seconds
  }
</script>

</body>
</html>
